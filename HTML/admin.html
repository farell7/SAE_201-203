<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Université Eiffel</title>
    <link rel="stylesheet" href="CSS/styleadmin.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <aside class="sidebar">
        <h2>Admin</h2>
        <nav>
            <a href="#">Accueil</a>
            <a href="#">Tableau de bord</a>
            <a href="PHP/validation_compte.php">Validation des utilisateurs</a>
            <a href="#">Utilisateurs</a>
            <a href="#">Suivi</a>
            <a href="#">Objets & Salles</a>
            <a href="PHP/logout.php">Déconnexion</a>
        </nav>
    </aside>
    <main class="main-content">
        <div class="welcome" id="welcomeMessage">Chargement...</div>
        <div class="subtitle">Espace d'administration</div>
        <div class="admin-cards">
            <a href="PHP/gestion_salle.php" class="admin-card">
                <img src="img/emplacement.png" alt="Gestion des salles">
                <h3>Gestion des salles</h3>
                <p>Ajoutez, modifiez ou supprimez les salles de l'université. Consultez leur disponibilité en temps réel.</p>
            </a>
            <a href="PHP/gestion_materiel.php" class="admin-card">
                <img src="img/cadenas-verrouille.png" alt="Gestion du matériel">
                <h3>Gestion du matériel</h3>
                <p>Gérez le matériel disponible, attribuez-le aux salles ou utilisateurs, et suivez l'état des équipements.</p>
            </a>
            <a href="PHP/validation_compte.php" class="admin-card">
                <img src="img/profil.png" alt="Gestion des utilisateurs">
                <h3>Gestion des utilisateurs</h3>
                <p>Créez, modifiez ou supprimez des comptes utilisateurs. Attribuez des rôles et surveillez l'activité.</p>
            </a>
            <a href="PHP/suivi_reservations.php" class="admin-card">
                <img src="img/nom.png" alt="Suivi des réservations">
                <h3>Suivi des réservations</h3>
                <p>Visualisez et gérez toutes les réservations en cours ou passées. Exportez les rapports facilement.</p>
            </a>
        </div>
    </main>
    <footer>
        &copy;2025 Université Eiffel. Tous droits réservés.
    </footer>

    <script>
        // Charger les données de l'utilisateur au chargement de la page
        window.onload = function() {
            fetch('PHP/admin.php')
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        window.location.href = 'index.php?error=' + data.error;
                    } else {
                        document.getElementById('welcomeMessage').textContent = 'Bonjour, ' + data.username + ' !';
                    }
                })
                .catch(error => {
                    console.error('Erreur:', error);
                    window.location.href = 'index.php?error=server_error';
                });
        };
    </script>
</body>
</html> 